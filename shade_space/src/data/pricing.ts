// Webbing Reinforced Fabric Pricing (NZD) - Based on Perimeter Length
export const WEBBING_FABRIC_PRICING = [
  { perimeter: 9.0, monotec370: 598.23, extrablock330: 583.26, shadetec320: 549.57 },
  { perimeter: 9.5, monotec370: 631.41, extrablock330: 614.73, shadetec320: 577.20 },
  { perimeter: 10.0, monotec370: 665.51, extrablock330: 647.03, shadetec320: 605.44 },
  { perimeter: 10.5, monotec370: 700.54, extrablock330: 680.16, shadetec320: 634.31 },
  { perimeter: 11.0, monotec370: 736.49, extrablock330: 714.12, shadetec320: 663.80 },
  { perimeter: 11.5, monotec370: 773.37, extrablock330: 748.93, shadetec320: 693.92 },
  { perimeter: 12.0, monotec370: 811.16, extrablock330: 784.55, shadetec320: 724.65 },
  { perimeter: 12.5, monotec370: 849.88, extrablock330: 821.00, shadetec320: 756.02 },
  { perimeter: 13.0, monotec370: 889.53, extrablock330: 858.29, shadetec320: 788.00 },
  { perimeter: 13.5, monotec370: 930.10, extrablock330: 896.42, shadetec320: 820.61 },
  { perimeter: 14.0, monotec370: 971.60, extrablock330: 935.38, shadetec320: 853.86 },
  { perimeter: 14.5, monotec370: 1014.01, extrablock330: 975.15, shadetec320: 887.71 },
  { perimeter: 15.0, monotec370: 1057.35, extrablock330: 1015.77, shadetec320: 922.19 },
  { perimeter: 15.5, monotec370: 1101.62, extrablock330: 1057.22, shadetec320: 957.29 },
  { perimeter: 16.0, monotec370: 1146.81, extrablock330: 1099.50, shadetec320: 993.02 },
  { perimeter: 16.5, monotec370: 1192.92, extrablock330: 1142.61, shadetec320: 1029.38 },
  { perimeter: 17.0, monotec370: 1239.96, extrablock330: 1186.55, shadetec320: 1066.35 },
  { perimeter: 17.5, monotec370: 1287.94, extrablock330: 1231.34, shadetec320: 1103.96 },
  { perimeter: 18.0, monotec370: 1336.81, extrablock330: 1276.94, shadetec320: 1142.18 },
  { perimeter: 18.5, monotec370: 1386.63, extrablock330: 1323.38, shadetec320: 1181.03 },
  { perimeter: 19.0, monotec370: 1437.36, extrablock330: 1370.65, shadetec320: 1220.50 },
  { perimeter: 19.5, monotec370: 1489.02, extrablock330: 1418.75, shadetec320: 1260.60 },
  { perimeter: 20.0, monotec370: 1541.62, extrablock330: 1467.69, shadetec320: 1301.33 },
  { perimeter: 20.5, monotec370: 1595.12, extrablock330: 1517.45, shadetec320: 1342.66 },
  { perimeter: 21.0, monotec370: 1649.55, extrablock330: 1568.05, shadetec320: 1384.63 },
  { perimeter: 21.5, monotec370: 1704.90, extrablock330: 1619.48, shadetec320: 1427.22 },
  { perimeter: 22.0, monotec370: 1761.18, extrablock330: 1671.74, shadetec320: 1470.43 },
  { perimeter: 22.5, monotec370: 1818.39, extrablock330: 1724.83, shadetec320: 1514.27 },
  { perimeter: 23.0, monotec370: 1876.52, extrablock330: 1778.76, shadetec320: 1558.73 },
  { perimeter: 23.5, monotec370: 1935.58, extrablock330: 1833.52, shadetec320: 1603.83 },
  { perimeter: 24.0, monotec370: 1995.55, extrablock330: 1889.10, shadetec320: 1649.53 },
  { perimeter: 24.5, monotec370: 2056.45, extrablock330: 1945.52, shadetec320: 1695.87 },
  { perimeter: 25.0, monotec370: 2118.28, extrablock330: 2002.77, shadetec320: 1742.82 },
  { perimeter: 25.5, monotec370: 2181.03, extrablock330: 2060.86, shadetec320: 1790.40 },
  { perimeter: 26.0, monotec370: 2244.71, extrablock330: 2119.78, shadetec320: 1838.62 },
  { perimeter: 26.5, monotec370: 2309.30, extrablock330: 2179.52, shadetec320: 1887.44 },
  { perimeter: 27.0, monotec370: 2374.82, extrablock330: 2240.10, shadetec320: 1936.89 },
  { perimeter: 27.5, monotec370: 2441.27, extrablock330: 2301.51, shadetec320: 1986.97 },
  { perimeter: 28.0, monotec370: 2508.64, extrablock330: 2363.75, shadetec320: 2037.67 },
  { perimeter: 28.5, monotec370: 2576.95, extrablock330: 2426.84, shadetec320: 2089.00 },
  { perimeter: 29.0, monotec370: 2646.15, extrablock330: 2490.73, shadetec320: 2140.94 },
  { perimeter: 29.5, monotec370: 2716.30, extrablock330: 2555.47, shadetec320: 2193.51 },
  { perimeter: 30.0, monotec370: 2827.49, extrablock330: 2661.17, shadetec320: 2286.84 },
  { perimeter: 30.5, monotec370: 2900.13, extrablock330: 2728.21, shadetec320: 2341.30 },
  { perimeter: 31.0, monotec370: 2973.69, extrablock330: 2796.09, shadetec320: 2396.39 },
  { perimeter: 31.5, monotec370: 3048.18, extrablock330: 2864.81, shadetec320: 2452.11 },
  { perimeter: 32.0, monotec370: 3123.59, extrablock330: 2934.35, shadetec320: 2508.45 },
  { perimeter: 32.5, monotec370: 3199.92, extrablock330: 3004.72, shadetec320: 2565.41 },
  { perimeter: 33.0, monotec370: 3277.18, extrablock330: 3075.92, shadetec320: 2622.98 },
  { perimeter: 33.5, monotec370: 3355.37, extrablock330: 3147.97, shadetec320: 2681.21 },
  { perimeter: 34.0, monotec370: 3434.47, extrablock330: 3220.83, shadetec320: 2740.03 },
  { perimeter: 34.5, monotec370: 3514.51, extrablock330: 3294.54, shadetec320: 2799.49 },
  { perimeter: 35.0, monotec370: 3644.84, extrablock330: 3418.45, shadetec320: 2908.94 },
  { perimeter: 35.5, monotec370: 3727.40, extrablock330: 3494.50, shadetec320: 2970.33 },
  { perimeter: 36.0, monotec370: 3810.90, extrablock330: 3571.39, shadetec320: 3032.35 },
  { perimeter: 36.5, monotec370: 3895.31, extrablock330: 3649.10, shadetec320: 3094.99 },
  { perimeter: 37.0, monotec370: 3980.65, extrablock330: 3727.65, shadetec320: 3158.26 },
  { perimeter: 37.5, monotec370: 4066.90, extrablock330: 3807.02, shadetec320: 3222.13 },
  { perimeter: 38.0, monotec370: 4154.10, extrablock330: 3887.23, shadetec320: 3286.65 },
  { perimeter: 38.5, monotec370: 4242.21, extrablock330: 3968.28, shadetec320: 3351.78 },
  { perimeter: 39.0, monotec370: 4331.24, extrablock330: 4050.14, shadetec320: 3417.53 },
  { perimeter: 39.5, monotec370: 4421.20, extrablock330: 4132.86, shadetec320: 3483.92 },
  { perimeter: 40.0, monotec370: 4512.08, extrablock330: 4216.39, shadetec320: 3550.92 },
  { perimeter: 40.5, monotec370: 4603.90, extrablock330: 4300.77, shadetec320: 3618.56 },
  { perimeter: 41.0, monotec370: 4696.63, extrablock330: 4385.97, shadetec320: 3686.80 },
  { perimeter: 41.5, monotec370: 4790.27, extrablock330: 4471.99, shadetec320: 3755.67 },
  { perimeter: 42.0, monotec370: 4884.86, extrablock330: 4558.86, shadetec320: 3825.17 },
  { perimeter: 42.5, monotec370: 4980.36, extrablock330: 4646.55, shadetec320: 3895.30 },
  { perimeter: 43.0, monotec370: 5076.79, extrablock330: 4735.09, shadetec320: 3966.05 },
  { perimeter: 43.5, monotec370: 5174.15, extrablock330: 4824.44, shadetec320: 4037.42 },
  { perimeter: 44.0, monotec370: 5272.43, extrablock330: 4914.64, shadetec320: 4109.42 },
  { perimeter: 44.5, monotec370: 5371.63, extrablock330: 5005.66, shadetec320: 4182.04 },
  { perimeter: 45.0, monotec370: 5471.75, extrablock330: 5097.51, shadetec320: 4255.27 },
  { perimeter: 45.5, monotec370: 5572.80, extrablock330: 5190.20, shadetec320: 4329.14 },
  { perimeter: 46.0, monotec370: 5674.76, extrablock330: 5283.71, shadetec320: 4403.63 },
  { perimeter: 46.5, monotec370: 5777.67, extrablock330: 5378.07, shadetec320: 4478.75 },
  { perimeter: 47.0, monotec370: 5881.49, extrablock330: 5473.25, shadetec320: 4554.48 },
  { perimeter: 47.5, monotec370: 5986.23, extrablock330: 5569.26, shadetec320: 4630.84 },
  { perimeter: 48.0, monotec370: 6091.91, extrablock330: 5666.11, shadetec320: 4707.83 },
  { perimeter: 48.5, monotec370: 6198.50, extrablock330: 5763.79, shadetec320: 4785.44 },
  { perimeter: 49.0, monotec370: 6306.02, extrablock330: 5862.30, shadetec320: 4863.68 },
  { perimeter: 49.5, monotec370: 6414.46, extrablock330: 5961.63, shadetec320: 4942.52 },
  { perimeter: 50.0, monotec370: 6523.83, extrablock330: 6061.81, shadetec320: 5022.01 }
];

// Cabled Edge Fabric Pricing (NZD) - Based on Perimeter Length
export const CABLED_FABRIC_PRICING = [
  { perimeter: 9.0, monotec370: 606.36, extrablock330: 591.39, shadetec320: 557.70 },
  { perimeter: 9.5, monotec370: 639.54, extrablock330: 622.86, shadetec320: 585.33 },
  { perimeter: 10.0, monotec370: 673.64, extrablock330: 655.16, shadetec320: 613.57 },
  { perimeter: 10.5, monotec370: 708.67, extrablock330: 688.29, shadetec320: 642.44 },
  { perimeter: 11.0, monotec370: 744.62, extrablock330: 722.25, shadetec320: 671.93 },
  { perimeter: 11.5, monotec370: 781.50, extrablock330: 757.06, shadetec320: 702.05 },
  { perimeter: 12.0, monotec370: 819.29, extrablock330: 792.68, shadetec320: 732.78 },
  { perimeter: 12.5, monotec370: 858.01, extrablock330: 829.13, shadetec320: 764.15 },
  { perimeter: 13.0, monotec370: 897.66, extrablock330: 866.42, shadetec320: 796.13 },
  { perimeter: 13.5, monotec370: 938.23, extrablock330: 904.55, shadetec320: 828.74 },
  { perimeter: 14.0, monotec370: 979.73, extrablock330: 943.51, shadetec320: 861.99 },
  { perimeter: 14.5, monotec370: 1022.14, extrablock330: 983.28, shadetec320: 895.84 },
  { perimeter: 15.0, monotec370: 1065.48, extrablock330: 1023.90, shadetec320: 930.32 },
  { perimeter: 15.5, monotec370: 1109.75, extrablock330: 1065.35, shadetec320: 965.42 },
  { perimeter: 16.0, monotec370: 1154.94, extrablock330: 1107.63, shadetec320: 1001.15 },
  { perimeter: 16.5, monotec370: 1201.05, extrablock330: 1150.74, shadetec320: 1037.51 },
  { perimeter: 17.0, monotec370: 1248.09, extrablock330: 1194.68, shadetec320: 1074.48 },
  { perimeter: 17.5, monotec370: 1296.07, extrablock330: 1239.47, shadetec320: 1112.09 },
  { perimeter: 18.0, monotec370: 1344.94, extrablock330: 1285.07, shadetec320: 1150.31 },
  { perimeter: 18.5, monotec370: 1394.76, extrablock330: 1331.51, shadetec320: 1189.16 },
  { perimeter: 19.0, monotec370: 1445.49, extrablock330: 1378.78, shadetec320: 1228.63 },
  { perimeter: 19.5, monotec370: 1497.15, extrablock330: 1426.88, shadetec320: 1268.73 },
  { perimeter: 20.0, monotec370: 1549.75, extrablock330: 1475.82, shadetec320: 1309.46 },
  { perimeter: 20.5, monotec370: 1603.25, extrablock330: 1525.58, shadetec320: 1350.79 },
  { perimeter: 21.0, monotec370: 1657.68, extrablock330: 1576.18, shadetec320: 1392.76 },
  { perimeter: 21.5, monotec370: 1713.03, extrablock330: 1627.61, shadetec320: 1435.35 },
  { perimeter: 22.0, monotec370: 1769.31, extrablock330: 1679.87, shadetec320: 1478.56 },
  { perimeter: 22.5, monotec370: 1826.52, extrablock330: 1732.96, shadetec320: 1522.40 },
  { perimeter: 23.0, monotec370: 1884.65, extrablock330: 1786.89, shadetec320: 1566.86 },
  { perimeter: 23.5, monotec370: 1943.71, extrablock330: 1841.65, shadetec320: 1611.96 },
  { perimeter: 24.0, monotec370: 2003.68, extrablock330: 1897.23, shadetec320: 1657.66 },
  { perimeter: 24.5, monotec370: 2064.58, extrablock330: 1953.65, shadetec320: 1704.00 },
  { perimeter: 25.0, monotec370: 2126.41, extrablock330: 2010.90, shadetec320: 1750.95 },
  { perimeter: 25.5, monotec370: 2189.16, extrablock330: 2068.99, shadetec320: 1798.53 },
  { perimeter: 26.0, monotec370: 2252.84, extrablock330: 2127.91, shadetec320: 1846.75 },
  { perimeter: 26.5, monotec370: 2317.43, extrablock330: 2187.65, shadetec320: 1895.57 },
  { perimeter: 27.0, monotec370: 2382.95, extrablock330: 2248.23, shadetec320: 1945.02 },
  { perimeter: 27.5, monotec370: 2449.40, extrablock330: 2309.64, shadetec320: 1995.10 },
  { perimeter: 28.0, monotec370: 2516.77, extrablock330: 2371.88, shadetec320: 2045.80 },
  { perimeter: 28.5, monotec370: 2585.08, extrablock330: 2434.97, shadetec320: 2097.13 },
  { perimeter: 29.0, monotec370: 2654.28, extrablock330: 2498.86, shadetec320: 2149.07 },
  { perimeter: 29.5, monotec370: 2724.43, extrablock330: 2563.60, shadetec320: 2201.64 },
  { perimeter: 30.0, monotec370: 2838.06, extrablock330: 2671.74, shadetec320: 2297.41 },
  { perimeter: 30.5, monotec370: 2910.70, extrablock330: 2738.78, shadetec320: 2351.87 },
  { perimeter: 31.0, monotec370: 2984.26, extrablock330: 2806.66, shadetec320: 2406.96 },
  { perimeter: 31.5, monotec370: 3058.75, extrablock330: 2875.38, shadetec320: 2462.68 },
  { perimeter: 32.0, monotec370: 3134.16, extrablock330: 2944.92, shadetec320: 2519.02 },
  { perimeter: 32.5, monotec370: 3210.49, extrablock330: 3015.29, shadetec320: 2575.98 },
  { perimeter: 33.0, monotec370: 3287.75, extrablock330: 3086.49, shadetec320: 2633.55 },
  { perimeter: 33.5, monotec370: 3365.94, extrablock330: 3158.54, shadetec320: 2691.78 },
  { perimeter: 34.0, monotec370: 3445.04, extrablock330: 3231.40, shadetec320: 2750.60 },
  { perimeter: 34.5, monotec370: 3525.08, extrablock330: 3305.11, shadetec320: 2810.06 },
  { perimeter: 35.0, monotec370: 3606.04, extrablock330: 3379.65, shadetec320: 2870.14 },
  { perimeter: 35.5, monotec370: 3687.91, extrablock330: 3455.01, shadetec320: 2930.84 },
  { perimeter: 36.0, monotec370: 3770.72, extrablock330: 3531.21, shadetec320: 2992.17 },
  { perimeter: 36.5, monotec370: 3854.45, extrablock330: 3608.24, shadetec320: 3054.13 },
  { perimeter: 37.0, monotec370: 3939.10, extrablock330: 3686.10, shadetec320: 3116.71 },
  { perimeter: 37.5, monotec370: 4024.67, extrablock330: 3764.79, shadetec320: 3179.90 },
  { perimeter: 38.0, monotec370: 4111.18, extrablock330: 3844.31, shadetec320: 3243.73 },
  { perimeter: 38.5, monotec370: 4198.61, extrablock330: 3924.68, shadetec320: 3308.18 },
  { perimeter: 39.0, monotec370: 4286.95, extrablock330: 4005.85, shadetec320: 3373.24 },
  { perimeter: 39.5, monotec370: 4376.22, extrablock330: 4087.88, shadetec320: 3438.94 },
  { perimeter: 40.0, monotec370: 4498.60, extrablock330: 4202.91, shadetec320: 3537.44 },
  { perimeter: 40.5, monotec370: 4590.11, extrablock330: 4286.98, shadetec320: 3604.77 },
  { perimeter: 41.0, monotec370: 4682.52, extrablock330: 4371.86, shadetec320: 3672.69 },
  { perimeter: 41.5, monotec370: 4775.85, extrablock330: 4457.57, shadetec320: 3741.25 },
  { perimeter: 42.0, monotec370: 4870.12, extrablock330: 4544.12, shadetec320: 3810.43 },
  { perimeter: 42.5, monotec370: 4965.30, extrablock330: 4631.49, shadetec320: 3880.24 },
  { perimeter: 43.0, monotec370: 5061.42, extrablock330: 4719.72, shadetec320: 3950.68 },
  { perimeter: 43.5, monotec370: 5158.46, extrablock330: 4808.75, shadetec320: 4021.73 },
  { perimeter: 44.0, monotec370: 5256.42, extrablock330: 4898.63, shadetec320: 4093.41 },
  { perimeter: 44.5, monotec370: 5355.30, extrablock330: 4989.33, shadetec320: 4165.71 },
  { perimeter: 45.0, monotec370: 5455.11, extrablock330: 5080.87, shadetec320: 4238.63 },
  { perimeter: 45.5, monotec370: 5555.85, extrablock330: 5173.25, shadetec320: 4312.19 },
  { perimeter: 46.0, monotec370: 5657.49, extrablock330: 5266.44, shadetec320: 4386.36 },
  { perimeter: 46.5, monotec370: 5760.08, extrablock330: 5360.48, shadetec320: 4461.16 },
  { perimeter: 47.0, monotec370: 5863.59, extrablock330: 5455.35, shadetec320: 4536.58 },
  { perimeter: 47.5, monotec370: 5968.01, extrablock330: 5551.04, shadetec320: 4612.62 },
  { perimeter: 48.0, monotec370: 6073.37, extrablock330: 5647.57, shadetec320: 4689.29 },
  { perimeter: 48.5, monotec370: 6179.64, extrablock330: 5744.93, shadetec320: 4766.58 },
  { perimeter: 49.0, monotec370: 6286.85, extrablock330: 5843.13, shadetec320: 4844.51 },
  { perimeter: 49.5, monotec370: 6394.98, extrablock330: 5942.15, shadetec320: 4923.04 },
  { perimeter: 50.0, monotec370: 6504.03, extrablock330: 6042.01, shadetec320: 5002.21 }
];

// Cabled Edge Corner Costs (NZD) - Based on Number of Corners
export const CABLED_CORNER_COSTS = {
  3: 329.00,
  4: 438.67,
  5: 548.33,
  6: 658.00
};

// Cabled Edge Hardware Costs (NZD) - Only for "Adjust to fit space" option
export const CABLED_HARDWARE_COSTS = {
  3: 222.52,
  4: 291.04,
  5: 359.57,
  6: 428.09
};

// Cabled Edge Features based on Perimeter Length
export const CABLED_FEATURES = [
  { minPerimeter: 0, maxPerimeter: 29.5, wireThickness: 4 },    // 4mm wire
  { minPerimeter: 30, maxPerimeter: 40, wireThickness: 5 },     // 5mm wire
  { minPerimeter: 40, maxPerimeter: 50, wireThickness: 6 }      // 6mm wire
];

// Corner Costs (NZD) - Based on Number of Corners
export const CORNER_COSTS = {
  3: 268.74,
  4: 358.32,
  5: 447.90,
  6: 537.48
};

// Hardware Costs (NZD) - Only for "Adjust to fit space" option
export const HARDWARE_COSTS = {
  3: 222.52,
  4: 291.04,
  5: 359.57,
  6: 428.09
};

// Webbing Features based on Perimeter Length
export const WEBBING_FEATURES = [
  { minPerimeter: 0, maxPerimeter: 34.5, width: 50 }, // 50mm webbing
  { minPerimeter: 35, maxPerimeter: 50, width: 63 }   // 63mm webbing
];

// Currency conversion rates (NZD base)
export const EXCHANGE_RATES: { [key: string]: number } = {
  'NZD': 1.0,    // Base currency
  'USD': 0.58,
  'AUD': 0.88,
  'GBP': 0.43,
  'EUR': 0.50,
  'CAD': 0.81,
  'AED': 2.19    // UAE Dirham
};

// Currency-specific markups (applied after base markup)
export const CURRENCY_MARKUPS: { [key: string]: number } = {
  'NZD': 1.0,    // No additional markup for base currency
  'USD': 1.15,   // 15% markup for USD
  'AUD': 1.10,   // 10% markup for AUD
  'GBP': 1.20,   // 20% markup for GBP
  'EUR': 1.18,   // 18% markup for EUR
  'CAD': 1.12,   // 12% markup for CAD
  'AED': 1.50    // 50% markup for AED
};

// Base pricing markup percentage
export const BASE_PRICING_MARKUP = 1.40; // 40% base markup

// Currency symbols mapping
export const CURRENCY_SYMBOLS: { [key: string]: string } = {
  'NZD': 'NZ$',
  'USD': 'US$',
  'AUD': 'AU$',
  'GBP': '£',
  'EUR': '€',
  'CAD': 'CA$',
  'AED': 'AED'
};

// Currency display names
export const CURRENCY_NAMES: { [key: string]: string } = {
  'NZD': 'New Zealand Dollar',
  'USD': 'US Dollar',
  'AUD': 'Australian Dollar',
  'GBP': 'British Pound',
  'EUR': 'Euro',
  'CAD': 'Canadian Dollar',
  'AED': 'UAE Dirham'
};

// Helper function to get fabric price from perimeter
export function getFabricPriceFromPerimeter(perimeter: number, fabricType: string, edgeType: 'webbing' | 'cabled' = 'webbing'): number {
  // Round perimeter to nearest 0.5m for lookup
  const roundedPerimeter = Math.round(perimeter * 2) / 2;
  
  // Choose the correct pricing table based on edge type
  const pricingTable = edgeType === 'cabled' ? CABLED_FABRIC_PRICING : WEBBING_FABRIC_PRICING;
  
  // Find the closest perimeter entry
  let closestEntry = pricingTable[0];
  let minDiff = Math.abs(roundedPerimeter - closestEntry.perimeter);
  
  for (const entry of pricingTable) {
    const diff = Math.abs(roundedPerimeter - entry.perimeter);
    if (diff < minDiff) {
      minDiff = diff;
      closestEntry = entry;
    }
  }
  
  // Get price based on fabric type
  switch (fabricType) {
    case 'monotec370':
      return closestEntry.monotec370;
    case 'extrablock330':
      return closestEntry.extrablock330;
    case 'shadetec320':
      return closestEntry.shadetec320;
    default:
      return closestEntry.monotec370; // Default to monotec370
  }
}

// Helper function to get wire thickness from perimeter (for cabled edge)
export function getWireThickness(perimeter: number): number {
  for (const feature of CABLED_FEATURES) {
    if (perimeter >= feature.minPerimeter && perimeter <= feature.maxPerimeter) {
      return feature.wireThickness;
    }
  }
  return 4; // Default to 4mm if no match found
}

// Helper function to get webbing width from perimeter
export function getWebbingWidth(perimeter: number): number {
  for (const feature of WEBBING_FEATURES) {
    if (perimeter >= feature.minPerimeter && perimeter <= feature.maxPerimeter) {
      return feature.width;
    }
  }
  return 50; // Default to 50mm if no match found
}